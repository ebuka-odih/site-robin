import{r as w,j as e,R as _,L as B,C as z,X as F,Y as O,T as U,a as q,c as G}from"./LineChart-WCPxr7uf.js";const $="#00ff63",J=({active:s,payload:n,label:a})=>{if(!s||!(n!=null&&n.length))return null;const t=n[0].value,h=typeof t=="number"?new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t):t;return e.jsxs("div",{className:"recharts-default-tooltip",style:{margin:0,padding:"10px",backgroundColor:"rgba(10, 10, 10, 0.9)",border:"1px solid hsl(var(--border))",whiteSpace:"nowrap",borderRadius:"var(--radius)"},children:[e.jsx("p",{className:"recharts-tooltip-label",style:{margin:0,color:"rgb(0, 255, 0)"},children:a}),e.jsx("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0},children:e.jsxs("li",{className:"recharts-tooltip-item",style:{display:"block",paddingTop:"4px",paddingBottom:"4px",color:"rgb(0, 255, 0)"},children:[e.jsx("span",{className:"recharts-tooltip-item-name",children:"PNL"}),e.jsx("span",{className:"recharts-tooltip-item-separator",children:" : "}),e.jsxs("span",{className:"recharts-tooltip-item-value",children:["$",h]})]})})]})},K=()=>e.jsxs("div",{className:"w-full h-64 bg-black rounded-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-[#00ff63] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Loading portfolio data..."})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-[#00ff63]/5 to-transparent animate-shimmer"})]}),X=({chartData:s={},currentBalance:n=0,timeframes:a=["LIVE","1D","1W","1M","3M","YTD","1Y"]})=>{const[t,h]=w.useState("LIVE"),[l,x]=w.useState(!0),[o,g]=w.useState([]),b=w.useMemo(()=>{if(!s||typeof s!="object")return[];const m="pnl";return s[m]?Object.keys(s[m]):[]},[s]),p=w.useMemo(()=>{var v;if(!s||typeof s!="object")return null;const f=(v=s["pnl"])==null?void 0:v[t];if(!f||!f.labels||!f.data)return null;const i=f.data,N=f.labels;return i.length===0||N.length===0?null:N.map((k,r)=>({label:k,value:i[r]??0,timestamp:Date.now()-(i.length-r)*864e5})).filter(k=>k.value>0)},[s,t]),c=w.useMemo(()=>{const m=new Date,f=[],i=parseFloat(String(n).replace(/[^0-9.-]+/g,"")||"0")||0;if(i<=0)return[];const N=i*.8,v=i,k=v-N;let r,y;switch(t){case"LIVE":r=31,y=1;break;case"1D":r=2,y=1;break;case"1W":r=7,y=1;break;case"1M":r=5,y=7;break;case"3M":r=91,y=1;break;case"YTD":r=m.getMonth()+1,y=30;break;case"1Y":r=366,y=1;break;default:r=31,y=1}for(let M=0;M<r;M++){let d=new Date(m);if(t==="YTD")d.setMonth(d.getMonth()-(r-1-M)),M<r-1&&d.setDate(1);else if(t==="1M"){const A=(r-1-M)*7;d.setDate(d.getDate()-A)}else{const A=(r-1-M)*y;d.setDate(d.getDate()-A)}d.setHours(0,0,0,0);const I=M/(r-1),V=1-Math.pow(1-I,2),R=N+k*V,T=Math.sin((M+123)*.5)*.015*v,H=Math.max(N*.95,R+T);let W;if(t==="1W")W=d.toLocaleDateString("en-US",{weekday:"short"});else if(t==="YTD")W=d.toLocaleDateString("en-US",{month:"short"});else{const A=d.toLocaleDateString("en-US",{month:"short"}),Y=d.getDate();W=`${A} ${Y}`}f.push({label:W,value:M===r-1?v:H,timestamp:d.getTime()})}return f},[t,n]);w.useEffect(()=>{b.length>0&&!b.includes(t)&&(t!=="LIVE"||!a.includes("LIVE"))&&h(b[0])},[]),w.useEffect(()=>{x(!0);const m=setTimeout(()=>{const f=p||c;if(f&&f.length>0){const i=[...f];n>0&&i.length>0&&(i[i.length-1]={...i[i.length-1],value:n}),g(i)}else g([]);x(!1)},200);return()=>clearTimeout(m)},[p,c,t,n]);const{minValue:j,maxValue:L}=w.useMemo(()=>{if(o.length===0){const d=n||1e3;return{minValue:d*.8,maxValue:d*1.05}}const m=o.map(d=>d.value).filter(d=>d>0);if(m.length===0){const d=n||1e3;return{minValue:d*.8,maxValue:d*1.05}}const f=Math.min(...m),i=Math.max(...m),N=i-f,v=Math.max(N*.05,f*.02),k=Math.max(N*.05,i*.02),r=Math.max(0,f-v),y=i+k;return{minValue:n>0&&r>=n*.85?n*.7:r,maxValue:y}},[o,n]),S=[Math.max(0,j),L],u=w.useMemo(()=>t==="1D"?{interval:0,angle:0,textAnchor:"middle",height:30}:t==="1W"?{interval:0,angle:0,textAnchor:"middle",height:30}:t==="LIVE"?{interval:4,angle:0,textAnchor:"middle",height:35}:t==="1M"?{interval:0,angle:0,textAnchor:"middle",height:35}:t==="3M"?{interval:14,angle:0,textAnchor:"middle",height:35}:t==="1Y"?{interval:29,angle:0,textAnchor:"middle",height:35}:t==="YTD"?{interval:0,angle:0,textAnchor:"middle",height:30}:{interval:"preserveStartEnd",angle:0,textAnchor:"middle",height:30},[t]);return l?e.jsx(K,{}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full h-64 bg-black rounded-2xl relative overflow-hidden focus:outline-none focus:ring-0",style:{outline:"none",border:"none"},tabIndex:-1,children:e.jsxs("div",{className:"absolute inset-0 p-2 focus:outline-none",style:{outline:"none"},children:[e.jsx("style",{children:`
                        .recharts-wrapper:focus,
                        .recharts-wrapper:focus-visible,
                        .recharts-responsive-container:focus,
                        .recharts-responsive-container:focus-visible,
                        .recharts-surface:focus,
                        .recharts-surface:focus-visible,
                        .recharts-line:focus,
                        .recharts-line:focus-visible,
                        .recharts-line-curve:focus,
                        .recharts-line-curve:focus-visible,
                        .recharts-active-dot:focus,
                        .recharts-active-dot:focus-visible,
                        .recharts-dot:focus,
                        .recharts-dot:focus-visible {
                            outline: none !important;
                            border: none !important;
                            box-shadow: none !important;
                        }
                        .recharts-wrapper,
                        .recharts-line,
                        .recharts-line-curve,
                        .recharts-active-dot,
                        .recharts-dot {
                            outline: none !important;
                            border: none !important;
                        }
                        .recharts-line-curve {
                            cursor: crosshair !important;
                        }
                    `}),e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(B,{data:o,margin:{top:5,right:10,left:5,bottom:u.angle!==0?50:t==="LIVE"||t==="1M"||t==="1Y"?35:25},children:[e.jsx(z,{strokeDasharray:"3 3",stroke:"#1a1a1a",horizontal:!0,vertical:!1,strokeOpacity:.5}),e.jsx(F,{dataKey:"label",stroke:"#666",tick:{fill:"#666",fontSize:10},axisLine:!1,tickLine:!1,interval:u.interval,tickMargin:10,angle:u.angle,textAnchor:u.textAnchor,height:u.height,minTickGap:t==="LIVE"?50:void 0,allowDuplicatedCategory:!1}),e.jsx(O,{hide:!0,domain:S,allowDataOverflow:!1}),e.jsx(U,{content:e.jsx(J,{}),cursor:{stroke:$,strokeWidth:1,strokeDasharray:"0",opacity:.5,pointerEvents:"none"},animationDuration:400,allowEscapeViewBox:{x:!0,y:!0},wrapperStyle:{outline:"none",pointerEvents:"auto",zIndex:1e3},shared:!1}),e.jsx(q,{type:"monotone",dataKey:"value",stroke:$,strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1200,animationEasing:"ease-out",activeDot:{r:4,fill:$,strokeWidth:2,stroke:"#fff",className:"recharts-dot"},connectNulls:!1})]})})]})}),e.jsx("div",{className:"grid grid-cols-7 gap-2 pb-1",children:a.map(m=>{const f=m===t;return e.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),h(m)},className:`inline-flex items-center justify-center gap-2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#00ff63] disabled:pointer-events-none disabled:opacity-50 border shadow-xs active:shadow-none min-h-8 rounded-md px-2 text-xs h-7 font-semibold whitespace-nowrap transition-all duration-200 ${f?"bg-[#00ff63] text-black border-[#00ff63]":"bg-[#1a1a1a] border-[#1a1a1a] text-white hover:border-[#00ff63]/50 hover:bg-[#1f1f1f]"}`,"data-testid":`button-period-${m.toLowerCase()}`,children:m},m)})})]})},E=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5 text-[#00ff63]",children:[e.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),e.jsx("path",{d:"m9 11 3 3L22 4"})]}),C=(s=0)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(s)),P=(s,n)=>s?"***":n,Q=({investingTab:s,walletTab:n,isBalanceHidden:a,onToggleBalanceVisibility:t})=>e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{type:"button",className:"border-2 rounded-lg p-2.5 flex flex-col justify-between cursor-pointer relative overflow-hidden group animate-slide-up border-[#00ff63] bg-[#00ff63]/5 transition-all duration-300 hover:scale-105",style:{transition:"0.3s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:s.label||"Investing"}),e.jsx("button",{type:"button",onClick:t,className:"cursor-pointer hover:opacity-80 transition-opacity","aria-label":a?"Show balance":"Hide balance",children:e.jsx(E,{})})]}),e.jsxs("div",{className:"group-hover:scale-105 transition-transform duration-300",children:[e.jsx("p",{className:"text-base font-bold font-mono text-[#00ff63]",children:P(a,s.balance)}),e.jsx("p",{className:`text-xs ${s.isPositive?"text-[#00ff63]":"text-red-400"}`,children:a?"***":s.change||"+0.00%"})]})]}),e.jsxs("button",{type:"button",className:"border-2 rounded-lg p-2.5 flex flex-col justify-between cursor-pointer relative overflow-hidden group animate-slide-up border-[#00ff63] bg-[#00ff63]/5 transition-all duration-300 hover:scale-105",style:{transition:"0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:n.label||"Wallet Balance"}),e.jsx("button",{type:"button",onClick:t,className:"cursor-pointer hover:opacity-80 transition-opacity","aria-label":a?"Show balance":"Hide balance",children:e.jsx(E,{})})]}),e.jsx("div",{className:"group-hover:scale-105 transition-transform duration-300",children:e.jsx("p",{className:"text-base font-bold font-mono text-[#00ff63]",children:P(a,n.balance)})})]})]}),Z=({profit:s,profitChange:n,profitIsPositive:a,isBalanceHidden:t})=>{const l=(o=>{if(!o||t)return{amount:"$0.00",percentage:"(0%)"};const g=o.match(/\$([\d,]+\.?\d*)\s*\(([+-]?[\d.]+%)\)/);return g?{amount:`$${g[1]}`,percentage:`(${g[2]})`}:o.includes("%")?{amount:"$0.00",percentage:o.startsWith("+")||o.startsWith("-")?`(${o})`:o}:{amount:"$0.00",percentage:"(0%)"}})(n),x=a??!0;return e.jsxs("div",{className:"px-0 sm:px-1",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 mb-2 tracking-widest",children:"PNL"}),e.jsx("p",{className:"text-3xl font-bold text-white font-mono",children:P(t,s)}),!t&&n&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x?e.jsx("svg",{className:"w-4 h-4 text-[#00ff63]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):e.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.jsxs("p",{className:`text-sm font-semibold ${x?"text-[#00ff63]":"text-red-400"}`,children:[l.amount," ",l.percentage]})]})]})},ee=({buyingPower:s,isBalanceHidden:n})=>e.jsx("div",{className:"rounded-xl border bg-[#0a0a0a] text-white shadow-sm border-[#1a1a1a]",children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:"Buying Power"}),e.jsx("p",{className:"text-sm font-bold text-white font-mono",children:P(n,C(s))})]})})}),te=({watchlist:s=[]})=>{const n=(l,x,o)=>{const b=[],p=Math.abs(x*1e3)%1e3,c=o*123,j=p+c,L=Math.min(40,Math.abs(x)*30),S=l?1:-1;let u=40+j%20;for(let v=0;v<20;v++){const k=v/19,r=u+L*S*k,y=Math.sin(v*.3+j*.1)*5,M=Math.sin(v*.7+j*.2)*3,d=Math.sin((v+j)*2.7)*4;u=r+y+M+d,u=Math.max(12,Math.min(88,u)),b.push(u)}const m=Math.min(...b),i=Math.max(...b)-m||1;return b.map(v=>12+(v-m)/i*76)},h=()=>{window.location.href="/user/assets-directory?type=stock"};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center px-1 mb-2",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 tracking-widest",children:"Watchlist"}),e.jsx("button",{type:"button",className:"text-xs text-[#00ff63] cursor-pointer hover:underline",onClick:h,children:"Add favorite"})]}),e.jsx("div",{className:"space-y-2",children:(s||[]).slice(0,5).map((l,x)=>{const o=l.price||0,g=l.change||0,b=l.change_percentage||g/(o-g)*100||0,p=g>=0,c=n(p,b,x);return e.jsx("div",{className:"rounded-xl border bg-[#1a1a1a] text-white shadow-sm border-[#1a1a1a] hover:border-[#00ff63]/30 transition-colors cursor-pointer",children:e.jsx("div",{className:"p-2.5",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-white text-sm truncate",children:l.symbol||"N/A"}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l.name||"â€”"})]}),e.jsx("div",{className:"w-12 h-6 flex-shrink-0 overflow-hidden",style:{maxWidth:"48px",maxHeight:"24px"},children:e.jsxs("svg",{width:48,height:24,viewBox:"0 0 48 24",style:{display:"block",width:"100%",height:"100%",maxWidth:"48px",maxHeight:"24px"},preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsx("clipPath",{id:`chart-clip-${x}`,children:e.jsx("rect",{x:"5",y:"5",height:"14",width:"38"})})}),e.jsx("g",{clipPath:`url(#chart-clip-${x})`,children:e.jsx("polyline",{points:c.map((j,L)=>{const S=5+L/(c.length-1)*38,u=19-j/100*14;return`${S},${u}`}).join(" "),fill:"none",stroke:p?"#00ff63":"#ef4444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:`px-2 py-0.5 rounded-lg text-xs font-bold whitespace-nowrap ${p?"bg-[#00ff63]/20 text-[#00ff63]":"bg-red-400/20 text-red-400"}`,children:["$",typeof o=="number"?o.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):o]}),e.jsxs("p",{className:`text-xs mt-0.5 font-semibold ${p?"text-[#00ff63]":"text-red-400"}`,children:[p?"+":"",b.toFixed(2),"%"]})]})]})})},`${l.symbol}-${x}`)})}),(!s||s.length===0)&&e.jsx("div",{className:"rounded-lg bg-[#1a1a1a] p-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"No items in watchlist"})})]})},se=({activity:s=[]})=>{const n=t=>typeof t=="number"?C(Math.abs(t)):t||"$0.00",a=t=>{switch(t){case"deposit":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#00ff63]/20 text-[#00ff63]",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})});case"withdrawal":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500/20 text-red-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})});case"trade_profit":case"trade":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-500/20 text-blue-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})});default:return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-500/20 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})})}};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-center px-1",children:e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 tracking-widest",children:"Recent Activity"})}),e.jsxs("div",{className:"rounded-xl border bg-[#0a0a0a] text-white shadow-sm border-[#1a1a1a]",children:[e.jsx("div",{className:"p-3 space-y-4",children:(s||[]).slice(0,5).map((t,h)=>{const l=t.amount||0,x=l>=0,o=t.formatted_amount||n(l);return e.jsxs("div",{className:`flex items-center justify-between ${h<Math.min(s.length-1,4)?"border-b border-[#1a1a1a] pb-4":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a(t.type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:t.title||ne(t.type||"activity")}),e.jsx("p",{className:"text-xs text-gray-400",children:t.time_ago||"Just now"})]})]}),e.jsxs("span",{className:`text-sm font-semibold ${x?"text-[#00ff63]":"text-red-400"}`,children:[x?"+":"",o]})]},`activity-${h}`)})}),(!s||s.length===0)&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-[#1a1a1a]",children:e.jsx("svg",{className:"h-6 w-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your transactions will appear here"})]})]})]})},ne=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"",re=()=>{const s=w.useRef(null),n=w.useRef(`tradingview-news-${Date.now()}-${Math.random().toString(36).substr(2,9)}`);return w.useEffect(()=>{if(!s.current)return;const a=s.current;a.innerHTML="";const t=document.createElement("div");t.className="tradingview-widget-container",t.id=n.current,t.style.width="100%",t.style.height="600px",t.style.border="none",t.style.background="transparent";const h=document.createElement("div");h.className="tradingview-widget-container__widget",h.style.height="100%",h.style.width="100%",h.style.border="none",h.style.background="transparent",t.appendChild(h),a.appendChild(t);const l=document.createElement("script");l.type="text/javascript",l.src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js",l.async=!0,l.innerHTML=JSON.stringify({feedMode:"all_symbols",colorTheme:"dark",isTransparent:!0,displayMode:"regular",width:"100%",height:600,locale:"en"}),h.appendChild(l);const x=()=>{a.querySelectorAll(".tradingview-widget-copyright").forEach(c=>{c.style.display="none",c.style.visibility="hidden",c.style.opacity="0",c.style.height="0",c.style.overflow="hidden"}),a.querySelectorAll("a, span, div, p").forEach(c=>{const j=c.textContent||"";(j.includes("TradingView")||j.includes("Track all markets"))&&(c.style.display="none",c.style.visibility="hidden",c.style.opacity="0")}),a.querySelectorAll("*").forEach(c=>{window.getComputedStyle(c).borderWidth!=="0px"&&(c.style.border="none")})};x();const o=setInterval(x,500);return setTimeout(()=>clearInterval(o),1e4),()=>{clearInterval(o),a&&a.contains(t)&&a.removeChild(t)}},[]),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-center px-1",children:e.jsx("p",{className:"text-sm font-semibold text-white uppercase",children:"MARKET NEWS"})}),e.jsxs("div",{className:"rounded-lg bg-[#0a0a0a] overflow-hidden",style:{border:"none"},children:[e.jsx("style",{children:`
                    /* Hide TradingView branding and copyright */
                    .tradingview-widget-copyright,
                    .tradingview-widget-copyright *,
                    [class*="tradingview-widget-copyright"],
                    a[href*="tradingview.com"] {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        overflow: hidden !important;
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    /* Remove borders from widget */
                    .tradingview-widget-container,
                    .tradingview-widget-container__widget,
                    iframe[src*="tradingview"] {
                        border: none !important;
                        outline: none !important;
                        box-shadow: none !important;
                    }
                    
                    /* Hide any footer elements */
                    footer,
                    [class*="footer"],
                    [id*="footer"] {
                        display: none !important;
                    }
                `}),e.jsx("div",{ref:s,className:"w-full",style:{minHeight:"600px",border:"none"}})]})]})},ae=()=>{const[s,n]=w.useState(!1),[a,t]=w.useState(!1),[h,l]=w.useState(null),[x,o]=w.useState(!1);w.useEffect(()=>{const p=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;o(p);const c=window.navigator.userAgent.toLowerCase(),j=/iphone|ipad|ipod/.test(c)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;t(j);let L=localStorage.getItem("pwa-install-prompt-dismissed");if(p){console.log("[PWA React] App already installed, skipping prompt");return}if(window.location.pathname.includes("/user/dashboard"),L==="true"){console.log("[PWA React] Prompt was dismissed, skipping");return}if(j){console.log("[PWA React] iOS detected, will show prompt in 1 second");const u=setTimeout(()=>{console.log("[PWA React] Showing iOS prompt"),n(!0)},1e3);return()=>clearTimeout(u)}const S=u=>{console.log("[PWA React] beforeinstallprompt event fired"),u.preventDefault(),l(u),setTimeout(()=>{console.log("[PWA React] Showing Android prompt"),n(!0)},1500)};return window.addEventListener("beforeinstallprompt",S),console.log("[PWA React] Component initialized, waiting for install prompt event"),()=>{window.removeEventListener("beforeinstallprompt",S)}},[]);const g=(p=!0)=>{n(!1),p&&localStorage.setItem("pwa-install-prompt-dismissed","true")},b=async()=>{if(a)g(!0);else if(h){h.prompt();const{outcome:p}=await h.userChoice;console.log(`User response: ${p}`),l(null),g(!0)}};return x||!s?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#050505] border border-[#1fff9c] rounded-2xl p-6 max-w-md w-full shadow-xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex h-16 w-16 items-center justify-center rounded-2xl border border-[#1fff9c]/40 bg-[#041207] text-[#1fff9c] mb-4",children:e.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Install App"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add this app to your home screen for quick access"})]}),a?e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"1"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Tap the ",e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded bg-gray-700 text-white text-xs font-semibold",children:"Share"})," button at the bottom of your screen"]})]}),e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"2"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Scroll down and tap ",e.jsxs("span",{className:"inline-flex items-center justify-center px-2 py-1 rounded bg-gray-700 text-white text-xs font-semibold",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add to Home Screen"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"3"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Tap ",e.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 rounded bg-gray-700 text-white text-xs font-semibold",children:"Add"})," to confirm"]})]})]}):e.jsx("div",{className:"mb-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Tap the button below to install this app on your device for a better experience."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>g(!0),className:"flex-1 px-4 py-2 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-800 transition-colors text-sm font-medium",children:"Maybe Later"}),e.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 rounded-xl bg-[#1fff9c] text-black hover:brightness-110 transition-colors text-sm font-semibold",children:a?"Got it!":"Install"})]})]})})},ie=({user:s={},accountTabs:n=[],chartData:a={},watchlist:t=[],activity:h=[],openTrades:l=[],news:x=[],routes:o={}})=>{var k;const g=n.find(r=>r.id==="investing")||n[0]||{id:"investing",label:"Investing",balance:"$0.00",change:"+0.00%",isPositive:!0},b=n.find(r=>r.id==="pnl")||{id:"pnl",label:"PNL",balance:"$0.00",change:"+0.00%",isPositive:!0},p=n.find(r=>r.id==="wallet")||{id:"wallet",label:"Wallet Balance",balance:"$0.00",change:"+0.00%",isPositive:!0};s.total_balance?C(s.total_balance):g.balance||(k=n[0])!=null&&k.balance||p.balance;const c=b.balance||C(s.pnl||0),j=b.change||"+0.00%",L=b.isPositive??!0,S=s.buying_power??C(s.buying_power||0),u=s.pnl||b.raw_balance||0,m=typeof u=="number"?u:parseFloat(String(u).replace(/[^0-9.-]+/g,"")||"0")||0,f=["LIVE","1D","1W","1M","3M","YTD","1Y"],[i,N]=w.useState(!1),v=r=>{r.stopPropagation(),N(!i)};return e.jsxs("div",{className:"min-h-screen bg-black text-white px-2 sm:px-4 py-3 space-y-3 sm:space-y-4 w-full",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-[#00ff63] uppercase tracking-widest",children:"Smart Trader"}),e.jsx("h1",{className:"text-2xl font-bold text-white mt-0.5",children:s.greeting??`Welcome back, ${s.name??"Trader"}!`})]}),e.jsx(Q,{investingTab:g,walletTab:p,isBalanceHidden:i,onToggleBalanceVisibility:v}),e.jsx(Z,{profit:c,profitChange:j,profitIsPositive:L,isBalanceHidden:i}),e.jsx(X,{chartData:a,currentBalance:m,timeframes:f}),e.jsx(ee,{buyingPower:S,isBalanceHidden:i}),e.jsx(te,{watchlist:t}),e.jsx(se,{activity:h}),e.jsx(re,{}),e.jsx(ae,{})]})},D=document.getElementById("react-dashboard");if(D){const s=D.dataset.props?JSON.parse(D.dataset.props):{};G.createRoot(D).render(e.jsx(ie,{...s}))}
